{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.211.0"},"children":{"YafaStack":{"id":"YafaStack","path":"YafaStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"YafaVpc":{"id":"YafaVpc","path":"YafaStack/YafaVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"YafaStack/YafaVpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"YafaStack/YafaVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"YafaStack/YafaVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"YafaStack/YafaVpc/PublicSubnet1"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"Acl":{"id":"Acl","path":"YafaStack/YafaVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"YafaStack/YafaVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc/PublicSubnet1"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"YafaStack/YafaVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"YafaVpcPublicSubnet1RouteTableEA97C13B"},"subnetId":{"Ref":"YafaVpcPublicSubnet1SubnetA1CCD3B6"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"YafaStack/YafaVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"YafaVpcIGW95AE1E22"},"routeTableId":{"Ref":"YafaVpcPublicSubnet1RouteTableEA97C13B"}}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"YafaStack/YafaVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"YafaStack/YafaVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"YafaStack/YafaVpc/PublicSubnet2"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"Acl":{"id":"Acl","path":"YafaStack/YafaVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"YafaStack/YafaVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc/PublicSubnet2"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"YafaStack/YafaVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"YafaVpcPublicSubnet2RouteTable3D56D029"},"subnetId":{"Ref":"YafaVpcPublicSubnet2Subnet7B463410"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"YafaStack/YafaVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"YafaVpcIGW95AE1E22"},"routeTableId":{"Ref":"YafaVpcPublicSubnet2RouteTable3D56D029"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"YafaStack/YafaVpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"YafaStack/YafaVpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"YafaStack/YafaVpc/PrivateSubnet1"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"Acl":{"id":"Acl","path":"YafaStack/YafaVpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"YafaStack/YafaVpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc/PrivateSubnet1"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"YafaStack/YafaVpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"YafaVpcPrivateSubnet1RouteTableDCFCFA1E"},"subnetId":{"Ref":"YafaVpcPrivateSubnet1Subnet92708193"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"YafaStack/YafaVpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.211.0","metadata":[]},"children":{"Subnet":{"id":"Subnet","path":"YafaStack/YafaVpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"YafaStack/YafaVpc/PrivateSubnet2"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"Acl":{"id":"Acl","path":"YafaStack/YafaVpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"YafaStack/YafaVpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc/PrivateSubnet2"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"YafaStack/YafaVpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"YafaVpcPrivateSubnet2RouteTableC057D047"},"subnetId":{"Ref":"YafaVpcPrivateSubnet2SubnetB1C0A0BD"}}}}}},"IGW":{"id":"IGW","path":"YafaStack/YafaVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"YafaStack/YafaVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"YafaVpcIGW95AE1E22"},"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"YafaStack/YafaVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"YafaStack/YafaVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"S3Endpoint":{"id":"S3Endpoint","path":"YafaStack/YafaVpc/S3Endpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/S3Endpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"routeTableIds":[{"Ref":"YafaVpcPublicSubnet1RouteTableEA97C13B"},{"Ref":"YafaVpcPublicSubnet2RouteTable3D56D029"},{"Ref":"YafaVpcPrivateSubnet1RouteTableDCFCFA1E"},{"Ref":"YafaVpcPrivateSubnet2RouteTableC057D047"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".s3"]]},"vpcEndpointType":"Gateway","vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"ecr.dkrEndpoint":{"id":"ecr.dkrEndpoint","path":"YafaStack/YafaVpc/ecr.dkrEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"YafaStack/YafaVpc/ecr.dkrEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/ecr.dkrEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"YafaStack/YafaVpc/ecr.dkrEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},":443"]]}}],"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/ecr.dkrEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["YafaVpcecrdkrEndpointSecurityGroupCDA77A19","GroupId"]}],"serviceName":"com.amazonaws.us-east-1.ecr.dkr","subnetIds":[{"Ref":"YafaVpcPrivateSubnet1Subnet92708193"},{"Ref":"YafaVpcPrivateSubnet2SubnetB1C0A0BD"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"ecr.apiEndpoint":{"id":"ecr.apiEndpoint","path":"YafaStack/YafaVpc/ecr.apiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"YafaStack/YafaVpc/ecr.apiEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/ecr.apiEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"YafaStack/YafaVpc/ecr.apiEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},":443"]]}}],"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/ecr.apiEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["YafaVpcecrapiEndpointSecurityGroup67EBC34E","GroupId"]}],"serviceName":"com.amazonaws.us-east-1.ecr.api","subnetIds":[{"Ref":"YafaVpcPrivateSubnet1Subnet92708193"},{"Ref":"YafaVpcPrivateSubnet2SubnetB1C0A0BD"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"logsEndpoint":{"id":"logsEndpoint","path":"YafaStack/YafaVpc/logsEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"YafaStack/YafaVpc/logsEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/logsEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"YafaStack/YafaVpc/logsEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},":443"]]}}],"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/logsEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["YafaVpclogsEndpointSecurityGroupDB54885D","GroupId"]}],"serviceName":"com.amazonaws.us-east-1.logs","subnetIds":[{"Ref":"YafaVpcPrivateSubnet1Subnet92708193"},{"Ref":"YafaVpcPrivateSubnet2SubnetB1C0A0BD"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"secretsmanagerEndpoint":{"id":"secretsmanagerEndpoint","path":"YafaStack/YafaVpc/secretsmanagerEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"YafaStack/YafaVpc/secretsmanagerEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/secretsmanagerEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"YafaStack/YafaVpc/secretsmanagerEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},":443"]]}}],"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/secretsmanagerEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["YafaVpcsecretsmanagerEndpointSecurityGroup78051EC9","GroupId"]}],"serviceName":"com.amazonaws.us-east-1.secretsmanager","subnetIds":[{"Ref":"YafaVpcPrivateSubnet1Subnet92708193"},{"Ref":"YafaVpcPrivateSubnet2SubnetB1C0A0BD"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"stsEndpoint":{"id":"stsEndpoint","path":"YafaStack/YafaVpc/stsEndpoint","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.211.0","metadata":[]},"children":{"SecurityGroup":{"id":"SecurityGroup","path":"YafaStack/YafaVpc/stsEndpoint/SecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/stsEndpoint/SecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"YafaStack/YafaVpc/stsEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["YafaVpc9C67CA60","CidrBlock"]},":443"]]}}],"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"Resource":{"id":"Resource","path":"YafaStack/YafaVpc/stsEndpoint/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"YafaStack/YafaVpc"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["YafaVpcstsEndpointSecurityGroup0C5BDBE8","GroupId"]}],"serviceName":"com.amazonaws.us-east-1.sts","subnetIds":[{"Ref":"YafaVpcPrivateSubnet1Subnet92708193"},{"Ref":"YafaVpcPrivateSubnet2SubnetB1C0A0BD"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"YafaStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.211.0"},"children":{"Staging":{"id":"Staging","path":"YafaStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"Role":{"id":"Role","path":"YafaStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}},"Handler":{"id":"Handler","path":"YafaStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"YafaRepository":{"id":"YafaRepository","path":"YafaStack/YafaRepository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaRepository/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"imageTagMutability":"MUTABLE","repositoryName":"yafa-ms"}}}}},"YafaCluster":{"id":"YafaCluster","path":"YafaStack/YafaCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{"clusterName":"yafa-cluster","clusterSettings":[{"name":"containerInsights","value":"enabled"}]}}}}},"YafaTaskRole":{"id":"YafaTaskRole","path":"YafaStack/YafaTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[]},"children":{"ImportYafaTaskRole":{"id":"ImportYafaTaskRole","path":"YafaStack/YafaTaskRole/ImportYafaTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Resource":{"id":"Resource","path":"YafaStack/YafaTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"YafaStack/YafaTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":"arn:aws:secretsmanager:us-east-1:821266815841:secret:yafa/ms/llm/openai/api_key-??????"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":{"Fn::GetAtt":["YafaRepository6BD0B6D1","Arn"]}},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":{"Fn::GetAtt":["YafaLogGroupBCF323D4","Arn"]}}],"Version":"2012-10-17"},"policyName":"YafaTaskRoleDefaultPolicyE0F34FE2","roles":[{"Ref":"YafaTaskRoleA6730837"}]}}}}}}},"LlmSecret":{"id":"LlmSecret","path":"YafaStack/LlmSecret","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"YafaLogGroup":{"id":"YafaLogGroup","path":"YafaStack/YafaLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/ecs/yafa-ms","retentionInDays":7}}}}},"YafaTaskDef":{"id":"YafaTaskDef","path":"YafaStack/YafaTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateTaskDefinition","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",[{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::GetAtt":["YafaRepository6BD0B6D1","Arn"]}]}]},".dkr.ecr.",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["YafaRepository6BD0B6D1","Arn"]}]}]},".",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"YafaRepository6BD0B6D1"},":latest"]]},"name":"YafaContainer","portMappings":[{"containerPort":8787,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"YafaLogGroupBCF323D4"},"awslogs-stream-prefix":"yafa-ms","awslogs-region":"us-east-1"}},"environment":[{"name":"NODE_ENV","value":"production"},{"name":"PORT","value":"8787"}],"secrets":[{"name":"OPENAI_API_KEY","valueFrom":"arn:aws:secretsmanager:us-east-1:821266815841:secret:yafa/ms/llm/openai/api_key"}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["YafaTaskRoleA6730837","Arn"]},"family":"YafaStackYafaTaskDef56D8C47F","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["YafaTaskRoleA6730837","Arn"]}}}},"YafaContainer":{"id":"YafaContainer","path":"YafaStack/YafaTaskDef/YafaContainer","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.211.0"}}}},"ALBSecurityGroup":{"id":"ALBSecurityGroup","path":"YafaStack/ALBSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/ALBSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"ALB Security Group","securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow HTTP traffic"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS traffic"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"to YafaStackServiceSecurityGroup67857C7A:8787":{"id":"to YafaStackServiceSecurityGroup67857C7A:8787","path":"YafaStack/ALBSecurityGroup/to YafaStackServiceSecurityGroup67857C7A:8787","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupEgress","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupEgress","aws:cdk:cloudformation:props":{"description":"to YafaStackServiceSecurityGroup67857C7A:8787","destinationSecurityGroupId":{"Fn::GetAtt":["ServiceSecurityGroup61DE1A49","GroupId"]},"fromPort":8787,"groupId":{"Fn::GetAtt":["ALBSecurityGroup29A3BDEF","GroupId"]},"ipProtocol":"tcp","toPort":8787}}}}},"YafaALB":{"id":"YafaALB","path":"YafaStack/YafaALB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaALB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["ALBSecurityGroup29A3BDEF","GroupId"]}],"subnets":[{"Ref":"YafaVpcPublicSubnet1SubnetA1CCD3B6"},{"Ref":"YafaVpcPublicSubnet2Subnet7B463410"}],"type":"application"}}},"YafaListener":{"id":"YafaListener","path":"YafaStack/YafaALB/YafaListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaALB/YafaListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"YafaTargetGroup8DE1FA0E"}}],"loadBalancerArn":{"Ref":"YafaALBFDA13079"},"port":80,"protocol":"HTTP"}}}}}}},"ServiceSecurityGroup":{"id":"ServiceSecurityGroup","path":"YafaStack/ServiceSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/ServiceSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"ECS Service Security Group","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"YafaVpc9C67CA60"}}}},"from YafaStackALBSecurityGroup0A5981C4:8787":{"id":"from YafaStackALBSecurityGroup0A5981C4:8787","path":"YafaStack/ServiceSecurityGroup/from YafaStackALBSecurityGroup0A5981C4:8787","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from YafaStackALBSecurityGroup0A5981C4:8787","fromPort":8787,"groupId":{"Fn::GetAtt":["ServiceSecurityGroup61DE1A49","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ALBSecurityGroup29A3BDEF","GroupId"]},"toPort":8787}}}}},"YafaService":{"id":"YafaService","path":"YafaStack/YafaService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.211.0","metadata":[]},"children":{"Service":{"id":"Service","path":"YafaStack/YafaService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"YafaCluster68E02502"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50,"alarms":{"alarmNames":[],"enable":false,"rollback":false}},"desiredCount":1,"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"YafaTargetGroup8DE1FA0E"},"containerName":"YafaContainer","containerPort":8787}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"YafaVpcPrivateSubnet1Subnet92708193"},{"Ref":"YafaVpcPrivateSubnet2SubnetB1C0A0BD"}],"securityGroups":[{"Fn::GetAtt":["ServiceSecurityGroup61DE1A49","GroupId"]}]}},"taskDefinition":{"Ref":"YafaTaskDef78C1C2B8"}}}}}},"YafaTargetGroup":{"id":"YafaTargetGroup","path":"YafaStack/YafaTargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.211.0"},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaTargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckIntervalSeconds":30,"healthCheckPath":"/api/health","healthyThresholdCount":2,"port":8787,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","unhealthyThresholdCount":5,"vpcId":{"Ref":"YafaVpc9C67CA60"}}}}}},"YafaWebBucket":{"id":"YafaWebBucket","path":"YafaStack/YafaWebBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaWebBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":"yafa-ms-web-821266815841","publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}],"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"index.html"}}}},"Policy":{"id":"Policy","path":"YafaStack/YafaWebBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaWebBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"YafaWebBucketDF41ECC0"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["YafaWebBucketDF41ECC0","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["YafaWebBucketDF41ECC0","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"YafaDistribution0228C876"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["YafaWebBucketDF41ECC0","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"YafaStack/YafaWebBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":[]},"children":{"Default":{"id":"Default","path":"YafaStack/YafaWebBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"YafaStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.211.0"},"children":{"Staging":{"id":"Staging","path":"YafaStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"Role":{"id":"Role","path":"YafaStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}},"Handler":{"id":"Handler","path":"YafaStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"YafaDistribution":{"id":"YafaDistribution","path":"YafaStack/YafaDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.211.0","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"YafaStack/YafaDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"S3OriginAccessControl":{"id":"S3OriginAccessControl","path":"YafaStack/YafaDistribution/Origin1/S3OriginAccessControl","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaDistribution/Origin1/S3OriginAccessControl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"YafaStackYafaDistributionOrigin1S3OriginAccessControl1B6C6E06","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}}}},"Origin2":{"id":"Origin2","path":"YafaStack/YafaDistribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"YafaStack/YafaDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["YafaWebBucketDF41ECC0","RegionalDomainName"]},"id":"YafaStackYafaDistributionOrigin1F1400BAA","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["YafaDistributionOrigin1S3OriginAccessControlCDF95BAC","Id"]}},{"domainName":{"Fn::GetAtt":["YafaALBFDA13079","DNSName"]},"id":"YafaStackYafaDistributionOrigin261ADDF59","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"http-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"YafaStackYafaDistributionOrigin1F1400BAA","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"/api/*","targetOriginId":"YafaStackYafaDistributionOrigin261ADDF59","cachePolicyId":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","compress":true,"originRequestPolicyId":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","viewerProtocolPolicy":"redirect-to-https"}],"customErrorResponses":[{"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"YafaUserPool":{"id":"YafaUserPool","path":"YafaStack/YafaUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":true},"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","policies":{"passwordPolicy":{"minimumLength":12,"requireLowercase":true,"requireUppercase":true,"requireNumbers":true,"requireSymbols":true}},"smsVerificationMessage":"The verification code to your new account is {####}","usernameAttributes":["email"],"userPoolName":"yafa-ms-users","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}}}},"YafaUserPoolClient":{"id":"YafaUserPoolClient","path":"YafaStack/YafaUserPoolClient","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.211.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"YafaStack/YafaUserPoolClient/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"yafa-ms-client","explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"supportedIdentityProviders":["COGNITO"],"userPoolId":{"Ref":"YafaUserPool5F49AE7C"}}}}}},"ApiUrl":{"id":"ApiUrl","path":"YafaStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"WebUrl":{"id":"WebUrl","path":"YafaStack/WebUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"RepositoryUri":{"id":"RepositoryUri","path":"YafaStack/RepositoryUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"UserPoolId":{"id":"UserPoolId","path":"YafaStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"YafaStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"YafaStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"YafaStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"YafaStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"YafaStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}